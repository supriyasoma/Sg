it('should handle error response', () => {
    const mockFile = new File(['dummy content'], 'testFile.csv', { type: 'text/csv' });
    component.uploadForm.patchValue({ selectedFileLocation: mockFile });

    const errorResponse = new ErrorEvent('Network error', {
      message: 'Failed to connect to the server.'
    });

    uploadService.sendDatasetFileForVerification.and.returnValue(throwError(errorResponse));

    component.sendDatasetFileForVerification();

    expect(uploadService.sendDatasetFileForVerification).toHaveBeenCalledWith(component.selectedDataset, mockFile);
    expect(component.selectedFile.status).toEqual(
      new CheckResult(CHECK_CODE.UNCHECKED, 'Error while checking DataSet! Failed to connect to the server.')
    );
    expect(component.showSpinner).toBe(false);
  });
