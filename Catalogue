import { CheckResultRenderer } from './check-result-renderer';
import { ICellRendererParams } from 'ag-grid-angular';

describe('CheckResultRenderer', () => {
  let component: CheckResultRenderer;

  beforeEach(() => {
    component = new CheckResultRenderer();
  });

  it('should initialize correctly', () => {
    const params: ICellRendererParams = {
      value: [true, 'Error: Something went wrong'],
      // Add other necessary properties if needed
    } as any;

    component.agInit(params);

    expect(component.isValid).toBe(true);
    expect(component.message).toBe('Something went wrong');
  });

  it('should refresh correctly', () => {
    const params: ICellRendererParams = {
      value: [false, 'Warning: Check your input'],
      // Add other necessary properties if needed
    } as any;

    component.refresh(params);

    expect(component.isValid).toBe(false);
    expect(component.message).toBe('Check your input');
  });

  it('should handle message correctly', () => {
    expect(component['handleMessage']('Info: All good')).toBe('All good');
    expect(component['handleMessage']('Error')).toBe('');
  });
});
