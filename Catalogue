createCheckResultFromResponse: jasmine.createSpy('createCheckResultFromResponse').and.callFake((response: HttpResponse<ApiCheckResponse>) => {
    const nonValidLines = response.body!.response.nonValidLines;
    const resultDetails = response.body!.response.resultDetails;
    const validLines = response.body!.response.validLines;
    const errors = response.body!.response.errorsDetails;

    if (nonValidLines > 0) {
      return new CheckResult(
        CHECK_CODE.KO,
        'Errors in Lines: ' + errors.join(', '),
        errors,
        resultDetails
      );
    } else if (resultDetails.length > 0) {
      return new CheckResult(
        CHECK_CODE.OK,
        'Dataset file is valid',
        [],
        resultDetails
      );
    } else {
      return new CheckResult(
        CHECK_CODE.KO,
        'Dataset is empty',
        [],
        resultDetails
      );
    }
  })
